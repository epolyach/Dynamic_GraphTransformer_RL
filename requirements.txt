# CPU-only environment with pinned versions and proper wheel indexes
# This file is tailored to match the validated setup used on the remote CPU node (gpu1):
# - PyTorch 2.4.0 (CPU build) + TorchVision 0.19.0 (CPU)
# - PyTorch Geometric 2.6.1 with matching CPU wheels for PyTorch 2.4.0
# - Scientific and plotting stack pinned for reproducibility
#
# Usage examples:
#   pip install -r requirements.txt                  # installs CPU wheels
#   # If you need CUDA on another machine, override the index at install time:
#   # pip install --index-url https://download.pytorch.org/whl/cu121 -r requirements.txt
#
# IMPORTANT: We intentionally exclude torchaudio to avoid platform-specific binary issues.

# Point to PyTorch CPU wheels
--index-url https://download.pytorch.org/whl/cpu
# Also allow fetching packages from PyPI (needed for torch-geometric and dependencies)
--extra-index-url https://pypi.org/simple

# Core ML/DL (CPU builds)
torch==2.4.0+cpu
torchvision==0.19.0+cpu

# PyTorch Geometric and its binary deps (CPU wheels matching torch 2.4.0)
-f https://data.pyg.org/whl/torch-2.4.0+cpu.html
torch-scatter==2.1.2+pt24cpu
torch-sparse==0.6.18+pt24cpu
torch-cluster==1.6.3+pt24cpu
torch-spline-conv==1.2.2+pt24cpu
torch-geometric==2.6.1

# Scientific Computing (pinned; with Python-version compatibility)
# Python >=3.9
numpy==2.1.2; python_version >= "3.9"
scipy==1.16.1; python_version >= "3.9"
scikit-learn==1.5.2; python_version >= "3.9"
# Python <3.9 (haruka: Python 3.8)
numpy==1.24.4; python_version < "3.9"
scipy==1.10.1; python_version < "3.9"
scikit-learn==1.3.2; python_version < "3.9"

# Data Handling
pandas==2.3.1; python_version >= "3.9"
pandas==2.0.3; python_version < "3.9"
networkx==3.3; python_version >= "3.9"
networkx==2.8.8; python_version < "3.9"

# Visualization
matplotlib==3.10.5; python_version >= "3.9"
matplotlib==3.7.5; python_version < "3.9"
seaborn==0.13.2

# Configuration and Logging
pyyaml==6.0.2
tqdm==4.67.1
# TensorBoard: pin per Python version (haruka uses Python 3.8)
tensorboard==2.20.0; python_version >= "3.9"
tensorboard==2.14.0; python_version < "3.9"

# Development (optional)
pytest==8.3.3
jupyter==1.1.1
ipykernel==6.29.5
